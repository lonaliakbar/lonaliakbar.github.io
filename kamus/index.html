<!doctypehtml><html lang="id"><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1"name="viewport"><title>Kamus Basa Acèh - Warisan Digital</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com"rel="preconnect"><link href="https://fonts.gstatic.com"rel="preconnect"crossorigin><link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600&family=Source+Code+Pro:wght@400;500&display=swap"rel="stylesheet"><link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"rel="stylesheet"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><style>body{font-family:Poppins,sans-serif;background-color:#f9f5f0;color:#4a4a4a}h1,h2,h3,h4,h5,h6{font-family:'Playfair Display',serif}.font-mono{font-family:'Source Code Pro',monospace}.pattern-bg{background-color:#f9f5f0;opacity:.8;background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}.card-heritage{background-color:#fff;border-radius:8px;border:1px solid #eae0d5;box-shadow:0 4px 12px rgba(0,0,0,.05);transition:transform .2s ease,box-shadow .2s ease}.card-heritage:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,.08)}.btn-primary-heritage{background-color:#8c3b00;color:#fff;border-radius:8px;font-weight:500;padding:.75rem 1.5rem;transition:background-color .2s}.btn-primary-heritage:hover{background-color:#6d2e00}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.animate-fade-in{animation:fadeIn .5s ease-out forwards}.modal-container{transition:opacity .3s ease}.modal-box{transition:all .3s ease}.modal-container.hidden .modal-box{transform:scale(.95);opacity:0}.tooltip{visibility:hidden;opacity:0;position:absolute;background-color:#333;color:#fff;text-align:left;border-radius:6px;padding:8px 12px;z-index:100;bottom:125%;left:50%;transform:translateX(-50%);width:max-content;max-width:300px;font-size:.875rem;transition:opacity .3s}.ref-link:hover .tooltip{visibility:visible;opacity:1}</style><body class="subpixel-antialiased"><div class="flex items-center justify-center bg-black bg-opacity-60 fixed hidden inset-0 modal-container opacity-0 p-4 z-50"id="loginModal"><div class="w-full bg-white modal-box rounded-lg shadow-2xl max-w-sm"><form id="loginForm"novalidate><div class="flex items-center border-b border-gray-200 justify-between p-6"><h2 class="font-bold text-gray-800 text-xl">Login Akun</h2><button class="text-2xl text-gray-400 closeModalBtn hover:text-gray-600"type="button">×</button></div><div class="p-6 space-y-5"><div><label class="text-sm font-medium text-gray-700 block mb-1"for="username">Username</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="username"name="username"required></div><div class="relative"><label class="text-sm font-medium text-gray-700 block mb-1"for="password">Password</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800 pr-10"id="password"name="password"required type="password"><i class="bx absolute text-gray-400 bx-hide cursor-pointer right-3 text-xl toggle-password top-8"></i></div><div class="text-sm rounded-md gap-2 hidden items-center p-3"id="loginStatus"><i class="bx text-lg bxs-x-circle"></i><span></span></div></div><div class="p-6 bg-gray-50 rounded-b-lg"><div class="flex items-center justify-end"><button class="text-sm font-medium text-gray-700 bg-white border border-gray-300 closeModalBtn hover:bg-gray-100 px-4 py-2 rounded-md shadow-sm"type="button">Batal</button><button class="flex items-center justify-center btn-primary-heritage disabled:bg-amber-900/50 ml-3 submit-btn w-24"type="submit"><span>Login</span><svg class="hidden text-white animate-spin h-5 w-5"fill="none"viewBox="0 0 24 24"xmlns="http://www.w3.org/2000/svg"><circle class="opacity-25"cx="12"cy="12"r="10"stroke="currentColor"stroke-width="4"></circle><path class="opacity-75"d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"fill="currentColor"></path></svg></button></div><p class="text-gray-500 text-center mt-4 text-xs">Belum punya akun? <a class="text-amber-800 hover:underline font-semibold"href="#"id="showRegisterModal">Daftar di sini</a></div></form></div></div><div class="flex items-center justify-center bg-black bg-opacity-60 fixed hidden inset-0 modal-container opacity-0 p-4 z-50"id="registerModal"><div class="w-full bg-white modal-box rounded-lg shadow-2xl max-w-sm"><form id="registerForm"novalidate><div class="flex items-center border-b border-gray-200 justify-between p-6"><h2 class="font-bold text-gray-800 text-xl">Buat Akun Baru</h2><button class="text-2xl text-gray-400 closeModalBtn hover:text-gray-600"type="button">×</button></div><div class="p-6 space-y-5"><div><label class="text-sm font-medium text-gray-700 block mb-1"for="registerNamaLengkap">Nama Lengkap</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="registerNamaLengkap"required></div><div><label class="text-sm font-medium text-gray-700 block mb-1"for="registerUsername">Username</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="registerUsername"required></div><div class="relative"><label class="text-sm font-medium text-gray-700 block mb-1"for="registerPassword">Password</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800 pr-10"id="registerPassword"required type="password"><i class="bx absolute text-gray-400 bx-hide cursor-pointer right-3 text-xl toggle-password top-8"></i></div><div class="text-sm rounded-md gap-2 hidden items-center p-3"id="registerStatus"><i class="bx text-lg bxs-x-circle"></i><span></span></div></div><div class="p-6 bg-gray-50 rounded-b-lg"><div class="flex items-center justify-end"><button class="text-sm font-medium text-gray-700 bg-white border border-gray-300 closeModalBtn hover:bg-gray-100 px-4 py-2 rounded-md shadow-sm"type="button">Batal</button><button class="flex items-center justify-center btn-primary-heritage disabled:bg-amber-900/50 ml-3 submit-btn w-24"type="submit"><span>Daftar</span><svg class="hidden text-white animate-spin h-5 w-5"fill="none"viewBox="0 0 24 24"xmlns="http://www.w3.org/2000/svg"><circle class="opacity-25"cx="12"cy="12"r="10"stroke="currentColor"stroke-width="4"></circle><path class="opacity-75"d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"fill="currentColor"></path></svg></button></div><p class="text-gray-500 text-center mt-4 text-xs">Sudah punya akun? <a class="text-amber-800 hover:underline font-semibold"href="#"id="showLoginModal">Login di sini</a></div></form></div></div><div class="flex items-center justify-center bg-black bg-opacity-60 fixed hidden inset-0 modal-container opacity-0 p-4 z-50"id="entryModal"><div class="w-full bg-white modal-box rounded-lg shadow-2xl max-h-[90vh] overflow-y-auto max-w-2xl"><form id="entryForm"novalidate><div class="flex items-center border-b border-gray-200 justify-between p-6 bg-white sticky top-0 z-10"><h2 class="font-bold text-gray-800 text-xl"id="modalTitle"></h2><button class="text-2xl text-gray-400 closeModalBtn hover:text-gray-600"type="button">×</button></div><div class="p-6 space-y-4"><input id="formAction"name="action"type="hidden"><input id="formRowIndex"name="rowIndex"type="hidden"><div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formLema">Lema</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formLema"name="lema"required></div><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formKelas">Kelas Kata</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formKelas"name="kelas"></div></div><div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formJawi">Tulisan Jawi</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formJawi"name="jawi"></div><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formIpa">IPA</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formIpa"name="ipa"></div></div><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formArti">Arti</label><textarea class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formArti"name="arti"required rows="3"></textarea></div><fieldset class="border-t border-gray-200 pt-4"><legend class="text-sm font-medium text-gray-700 mb-2">Contoh Kalimat</legend><div class="space-y-3"id="contohContainer"></div><button class="text-sm font-semibold hover:text-amber-900 mt-2 text-amber-800"type="button"id="addContohBtn">+ Tambah Contoh</button></fieldset><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formCatatan">Catatan</label><input class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formCatatan"name="catatan"></div><div><label class="text-sm font-medium text-gray-700 block mb-1"for="formSumberSelect">Sumber</label><select class="block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formSumberSelect"name="sumber_select"></select><input class="hidden mt-2 block border-gray-300 rounded-md shadow-sm w-full focus:border-amber-800 focus:ring-amber-800"id="formSumberCustom"name="sumber_custom"placeholder="Tuliskan sumber lainnya..."><input type="hidden"id="formSumber"name="sumber"></div></div><div class="p-6 bg-gray-50 rounded-b-lg"><div class="text-sm hidden gap-2 items-center mb-4"id="formStatus"><i class="bx text-lg bxs-x-circle"></i><span></span></div><div class="flex items-center justify-end"><button class="text-sm font-medium text-gray-700 bg-white border border-gray-300 closeModalBtn hover:bg-gray-100 px-4 py-2 rounded-md shadow-sm"type="button">Batal</button><button class="flex items-center justify-center btn-primary-heritage disabled:bg-amber-900/50 ml-3 submit-btn w-28"type="submit"id="saveBtn"><span>Simpan</span><svg class="hidden text-white animate-spin h-5 w-5"fill="none"viewBox="0 0 24 24"xmlns="http://www.w3.org/2000/svg"><circle class="opacity-25"cx="12"cy="12"r="10"stroke="currentColor"stroke-width="4"></circle><path class="opacity-75"d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"fill="currentColor"></path></svg></button></div></div></form></div></div><div class="flex items-center justify-center bg-black bg-opacity-60 fixed hidden inset-0 modal-container opacity-0 p-4 z-50"id="aboutModal"><div class="w-full bg-white modal-box rounded-lg shadow-2xl max-h-[90vh] overflow-y-auto max-w-2xl"><div class="flex items-center border-b border-gray-200 justify-between p-6"><h2 class="font-bold text-gray-800 text-2xl">Tentang Proyek</h2><button class="text-2xl text-gray-400 closeModalBtn hover:text-gray-600"type="button">×</button></div><div class="p-6 md:p-8 leading-relaxed space-y-6 text-gray-600"><p>Kamus Basa Acèh ini adalah sebuah inisiatif digital yang lahir dari semangat untuk melestarikan dan mempopulerkan kembali salah satu warisan budaya paling berharga di Aceh.<div><h3 class="font-bold text-gray-800 text-xl mb-2">Misi Kami</h3><ul class="space-y-2 list-inside list-disc"><li><b>Digitalisasi:</b> Mengalihmediakan kekayaan leksikal Bahasa Aceh ke platform digital yang dapat diakses oleh siapa saja.<li><b>Kolaborasi:</b> Membangun kamus "hidup" yang terus bertumbuh melalui kontribusi komunitas, ahli bahasa, dan pegiat budaya.<li><b>Edukasi:</b> Menyediakan alat bantu yang andal bagi pelajar, peneliti, dan siapa pun yang tertarik mempelajari Bahasa Aceh.</ul></div><div><h3 class="font-bold text-gray-800 text-xl mb-2">Teknologi</h3><p>Proyek ini dibangun dengan pendekatan gesit. Data kamus dikelola secara terpusat menggunakan Google Sheets, memungkinkan kontributor terverifikasi untuk memperbarui entri dengan mudah.</div></div><div class="p-6 bg-gray-50 rounded-b-lg text-right"><button class="closeModalBtn btn-primary-heritage"type="button">Tutup</button></div></div></div><div class="flex items-center justify-center bg-black bg-opacity-60 fixed hidden inset-0 modal-container opacity-0 p-4 z-50"id="guidelinesModal"><div class="w-full bg-white modal-box rounded-lg shadow-2xl max-h-[90vh] overflow-y-auto max-w-2xl"><div class="flex items-center border-b border-gray-200 justify-between p-6"><h2 class="font-bold text-gray-800 text-2xl">Panduan Penggunaan</h2><button class="text-2xl text-gray-400 closeModalBtn hover:text-gray-600"type="button">×</button></div><div class="p-6 md:p-8 leading-relaxed space-y-6 text-gray-600"><div><h3 class="font-bold text-gray-800 text-xl mb-2">1. Mencari Kata</h3><p>Gunakan bilah pencarian di halaman utama. Anda tidak perlu khawatir tentang penggunaan diakritik (é, è, ô) saat mencari.</div><div><h3 class="font-bold text-gray-800 text-xl mb-2">2. Memahami Hasil</h3><ul class="space-y-2 list-inside list-disc"><li><b>Lema:</b> Kata utama dalam ejaan standar.<li><b>Jawi:</b> Penulisan kata dalam aksara Arab-Melayu.<li><b>IPA:</b> Transkripsi fonetik untuk membantu pengucapan.</ul></div><div><h3 class="font-bold text-gray-800 text-xl mb-2">3. Menjadi Kontributor</h3><p>Untuk menjaga kualitas data, proses kontribusi dilakukan melalui pendaftaran akun.<ol class="space-y-2 list-inside list-decimal"><li>Klik tombol "Daftar & Mulai Berkontribusi".<li>Isi formulir pendaftaran dan login.<li>Setelah login, Anda akan melihat tombol untuk "Tambah Kata".</ol><p class="mt-2">Setiap kontribusi akan ditinjau oleh tim kami.</div></div><div class="p-6 bg-gray-50 rounded-b-lg text-right"><button class="closeModalBtn btn-primary-heritage"type="button">Mengerti</button></div></div></div><div class="flex items-center justify-center bg-black bg-opacity-60 fixed hidden inset-0 modal-container opacity-0 p-4 z-50"id="contributorsModal"><div class="w-full bg-white modal-box rounded-lg shadow-2xl max-h-[90vh] overflow-y-auto max-w-3xl"><div class="flex items-center border-b border-gray-200 justify-between p-6 bg-white sticky top-0 z-10"><h2 class="font-bold text-gray-800 text-2xl">Para Kontributor</h2><button class="text-2xl text-gray-400 closeModalBtn hover:text-gray-600"type="button">×</button></div><div class="p-6 md:p-8"><p class="text-gray-600 mb-8">Kamus ini adalah hasil jerih payah kolektif dari para pegiat bahasa. Berikut adalah para kontributor yang telah menyumbangkan entri kata, diurutkan berdasarkan jumlah kontribusi.<div class="space-y-4"id="contributors-list"><p class="text-gray-500 text-center">Memuat data kontributor...</div></div><div class="p-6 bg-gray-50 rounded-b-lg text-right"><button class="closeModalBtn btn-primary-heritage"type="button">Tutup</button></div></div></div><header class="border-[#EAE0D5] border-b bg-[#F9F5F0] sticky top-0 z-40"><div class="mx-auto container px-4"><div class="flex items-center justify-between h-20"><div class="flex items-center gap-3"><i class="bx bx-book-open flex items-center justify-center bg-[#8C3B00] h-10 w-10 rounded-md text-white text-2xl"></i><div><h1 class="font-bold text-xl text-[#6D2E00] tracking-tight">Kamus Basa Acèh</h1></div></div><div class="flex items-center gap-4"><div id="userMenu"></div><button class="hidden btn-primary-heritage"id="addWordBtn"title="Tambah Kata Baru"><i class="bx text-lg bx-plus"></i></button></div></div></div></header><div class="mx-auto container md:px-8 p-4"id="app-container"><main><section class="text-center py-16 md:py-20 relative"><div class="absolute -z-10 inset-0 pattern-bg rounded-lg"></div><h1 class="font-bold text-[#6D2E00] tracking-tight md:text-5xl text-4xl">Kamus Basa Acèh - Indonesia</h1><p class="text-gray-600 max-w-2xl mt-4 mx-auto text-lg"id="entry-count">Sebuah kamus hidup untuk melestarikan dan menjelajahi warisan linguistik Aceh.<form id="searchForm"class="w-full max-w-xl mt-8 mx-auto relative"><i class="bx absolute text-gray-400 -translate-y-1/2 bx-search left-5 text-2xl top-1/2"></i><input class="w-full border-gray-300 shadow-sm focus:border-amber-800 border-2 duration-300 focus:ring-4 focus:ring-amber-800/20 pl-14 pr-32 py-4 rounded-full text-lg transition-all"id="searchInput"placeholder="Cari kata dalam Basa Acèh..."><button class="btn-primary-heritage rounded-l-none rounded-r-full -translate-y-1/2 absolute right-2 top-1/2"type="submit">Cari</button></form></section><div class="mx-auto max-w-4xl mt-12"id="content-wrapper"><div class="mb-16"id="content"></div><div id="initial-content"><section id="random-words-section"><h2 class="font-bold text-gray-800 text-3xl mb-6 text-center">Kata Acak</h2><div class="grid gap-4 grid-cols-2 sm:grid-cols-4"id="latest-words"><p class="text-gray-500 text-center col-span-full">Memuat kata acak...</div></section><section class="text-center card-heritage md:p-12 mt-12 p-8"><h2 class="font-bold text-3xl text-[#6D2E00]">Jadilah Bagian dari Sejarah</h2><p class="text-gray-600 max-w-2xl mt-4 mx-auto">Setiap kata yang Anda tambahkan adalah jejak digital yang berharga untuk generasi mendatang.</p><button class="btn-primary-heritage mt-6"id="contributeBtn">Daftar & Mulai Berkontribusi</button></section></div></div></main></div><div class="hidden p-4 container md:px-8 mt-8 mx-auto"id="dashboard-view"><main><div class="flex items-start justify-between mb-8"><div><h1 class="font-bold text-[#6D2E00] tracking-tight md:text-5xl text-4xl"id="dashboard-welcome-title">Dasbor Kontributor</h1><p class="text-gray-600 text-lg mt-2"id="dashboard-welcome-subtitle"></div><button class="btn-primary-heritage bg-gray-200 flex-shrink-0 hover:bg-gray-300 text-[#6D2E00]"id="back-to-kamus"><i class="bx bx-arrow-back mr-2"></i>Kembali</button></div><section class="mt-12"><h2 class="font-bold text-gray-800 text-3xl mb-6">Ringkasan Anda</h2><div class="grid grid-cols-1 gap-6 lg:grid-cols-4 sm:grid-cols-2"><div class="flex p-6 card-heritage gap-4 items-start"><i class="bx text-4xl text-amber-800/50 bx-plus-circle"></i><div><p class="text-sm text-gray-500">Entri Ditambahkan<p class="font-bold text-gray-800 text-3xl mt-1"id="stat-added">0</div></div><div class="flex p-6 card-heritage gap-4 items-start"><i class="bx text-4xl text-amber-800/50 bx-edit"></i><div><p class="text-sm text-gray-500">Entri Diperbarui<p class="font-bold text-gray-800 text-3xl mt-1"id="stat-edited">0</div></div><div class="flex p-6 card-heritage gap-4 items-start"><i class="bx text-4xl text-amber-800/50 bx-message-square-dots"></i><div><p class="text-sm text-gray-500">Contoh Kalimat<p class="font-bold text-gray-800 text-3xl mt-1"id="stat-examples">0</div></div><div class="flex p-6 card-heritage gap-4 items-start"><i class="bx text-4xl text-amber-800/50 bx-bar-chart-alt-2"></i><div><p class="text-sm text-gray-500">Peringkat<p class="font-bold text-gray-800 text-3xl mt-1"id="stat-rank">#0</div></div></div></section><section class="grid grid-cols-1 gap-10 lg:grid-cols-3 mt-16"><div class="lg:col-span-2"><h2 class="font-bold text-gray-800 text-3xl mb-6">Riwayat Aktivitas</h2><div class="overflow-hidden card-heritage"><div class="overflow-x-auto"><table class="w-full text-left"><thead class="border-[#EAE0D5] border-b bg-gray-50/50"><tr><th class="text-sm font-semibold p-4 text-gray-600">Tanggal<th class="text-sm font-semibold p-4 text-gray-600">Aktivitas<th class="text-sm font-semibold p-4 text-gray-600">Lema<th class="text-sm font-semibold p-4 text-gray-600">Status<tbody class="divide-gray-200 divide-y"id="activity-history"><tr><td class="text-gray-500 text-center p-4"colspan="4">Tidak ada riwayat aktivitas.</table></div></div></div><div class="p-8 card-heritage"><h3 class="font-bold text-gray-800 text-2xl mb-4">Aksi Cepat</h3><div class="space-y-4"><button class="w-full text-left btn-primary-heritage"id="dashboard-add-entry">Tambah Entri Baru</button><a class="block hover:underline text-amber-800"href="#">Lihat Semua Kontribusi →</a><a class="block hover:underline text-amber-800"href="#"id="dashboard-show-guidelines">Baca Panduan Kontribusi →</a></div></div></section></main></div><footer class="border-t bg-white border-[#EAE0D5] mt-20"><div class="mx-auto container px-4 py-8"><div class="text-center gap-8 grid grid-cols-1 md:grid-cols-3 md:text-left"><div><h3 class="text-gray-800 font-semibold mb-3 text-lg">Tentang Kamus</h3><p class="text-sm text-gray-600">Inisiatif digital untuk melestarikan Basa Acèh melalui kamus interaktif yang hidup dari kontribusi komunitas.</div><div><h3 class="text-gray-800 font-semibold mb-3 text-lg">Tautan</h3><ul class="text-sm space-y-2"><li><a class="text-gray-600 hover:text-amber-800"href="#"id="showGuidelinesModal">Panduan Penggunaan</a><li><a class="text-gray-600 hover:text-amber-800"href="#"id="showAboutModal">Tentang Proyek</a><li><a class="text-gray-600 hover:text-amber-800"href="#"id="showContributorsModal">Para Kontributor</a></ul></div><div><h3 class="text-gray-800 font-semibold mb-3 text-lg">Terhubung</h3><div class="flex justify-center gap-4 md:justify-start mt-2"><a class="text-gray-500 hover:text-amber-800 text-2xl"href="#"title="GitHub"><i class="bx bxl-github"></i></a><a class="text-gray-500 hover:text-amber-800 text-2xl"href="#"title="Instagram"><i class="bx bxl-instagram-alt"></i></a><a class="text-gray-500 hover:text-amber-800 text-2xl"href="#"title="Email"><i class="bx bxs-envelope"></i></a></div></div></div><div class="text-sm text-gray-500 border-gray-200 border-t mt-8 pt-6 text-center"><p>© 2025 Basa Acèh Foundation. Hak Cipta Dilindungi.</div></div></footer><template id="lemaDetailTemplate"><div class="relative animate-fade-in card-heritage group"><div class="p-6 md:p-8"><div class="flex gap-2 absolute card-actions group-hover:opacity-100 opacity-0 right-4 top-4"><button class="flex items-center justify-center bg-gray-100 copy-entry-btn h-8 hover:bg-amber-100 hover:text-amber-800 relative rounded-full text-gray-500 w-8"title="Salin Kata & Arti"><i class="bx text-lg bx-copy"></i><span class="hidden text-white -right-1 -top-8 absolute bg-gray-800 copy-feedback px-2 py-1 rounded text-xs">Tersalin!</span></button><button class="text-gray-500 hover:text-amber-800 bg-gray-100 h-8 hover:bg-amber-100 rounded-full w-8 edit-btn hidden"title="Edit"><i class="bx text-lg bx-pencil"></i></button></div><div class="flex items-center border-b border-gray-200 mb-4 pb-4"><div><h1 class="font-bold text-gray-800 data-lema md:text-5xl text-4xl"></h1><p class="text-gray-600 data-jawi font-serif mt-1 text-2xl"></div><div class="flex items-center ml-auto"><span class="text-gray-500 data-ipa font-mono text-lg"></span></div></div><p class="text-amber-800 data-kelas italic mb-6 text-md"><div class="definisi-container space-y-6"></div><div class="border-t border-gray-200 mt-8 pt-6 data-catatan-container"><h3 class="font-semibold text-gray-700 mb-2">Catatan</h3><p class="text-gray-600 p-4 bg-amber-50/50 border border-amber-200 data-catatan rounded-lg"></div></div><div class="border-t border-gray-200 bg-gray-50/50 card-footer px-6 py-3 rounded-b-lg"><button class="text-sm font-semibold flex gap-2 hover:text-amber-800 items-center print-btn text-gray-500 transition"><i class="bx text-lg bxs-printer"></i>Cetak</button></div></div></template><template id="latestWordCardSimpleTemplate"><div class="text-center card-heritage cursor-pointer hover:border-amber-800/50 p-4"><p class="text-gray-800 text-xl data-lema font-semibold truncate"></div></template><template id="definisiEntryTemplate"><div><p class="text-gray-800 text-lg"><span class="font-bold data-nomor mr-2 text-gray-500"></span><span class="data-makna"></span><div class="relative data-sumber-container mt-1 text-right"></div><div class="space-y-3 data-contoh-container mt-4"></div></div></template><template id="contohFormTemplate"><div class="bg-gray-50 border contoh-entry p-3 rounded-md"><input class="text-sm block border-gray-300 rounded-md shadow-sm w-full"name="contohAceh"placeholder="Contoh kalimat Aceh"><input class="text-sm block border-gray-300 rounded-md shadow-sm w-full mt-2"name="contohInd"placeholder="Terjemahan Indonesia"><button class="hover:text-red-700 font-semibold mt-2 remove-contoh-btn text-red-500 text-xs"type="button">Hapus</button></div></template><template id="emptyStateTemplate"><div class="text-gray-500 text-center card-heritage py-16"><p>Gunakan bilah pencarian di atas untuk menemukan arti kata.</div></template><template id="notFoundStateTemplate"><div class="text-gray-600 animate-fade-in card-heritage py-16 text-center"><h3 class="font-bold text-gray-800 text-2xl">Kata Tidak Ditemukan</h3><p class="mx-auto max-w-md mt-2">Kami tidak dapat menemukan kata yang Anda cari.</div></template><template id="loadingStateTemplate"><div class="text-center py-20 animate-fade-in"><i class="bx animate-spin bx-loader-alt text-5xl text-amber-800"></i><p class="text-gray-600 mt-3">Mencari...</div></template><script>$(document).ready(function() {
            // --- KONFIGURASI ---
            const API_URL = "https://script.google.com/macros/s/AKfycbycwRv_Uk92LCFKGAMSQTunJcnUBHZluDng6XjdgyYOGFJri3yXH0OTDdqKeAlHcsVq/exec";
            let kamusData = null;
            const referensiData = [
                { kode: "AB.85", penulis: "Aboe Bakar, dkk.", judul: "Kamus Aceh-Indonesia", detail: "Pusat Pembinaan dan Pengembangan Bahasa, 1985." },
                { kode: "SCH.93", penulis: "C. Snouck Hurgronje", judul: "De Atjehers", detail: "Batavia: Landsdrukkerij, 1893." }
            ];

            // --- FUNGSI BANTUAN & UI ---
            function normalizeString(str) { if (!str) return ''; return str.normalize('NFD').replace(/[\u0300-\u036f]/g, ''); }
            function showModal(modalId) { $(modalId).removeClass('hidden').removeClass('opacity-0'); }
            function closeModal(modalId) { $(modalId).addClass('opacity-0'); setTimeout(() => $(modalId).addClass('hidden'), 300); }
            function setSubmitButtonState(form, isLoading) { const btn = $(form).find('.submit-btn'); btn.prop('disabled', isLoading); btn.find('span').toggle(!isLoading); btn.find('svg').toggle(isLoading); }
            function showFormStatus(formId, msg, type = 'error') {
                const statusEl = $(`${formId}Status`); statusEl.removeClass('hidden').addClass('flex').find('span').text(msg);
                statusEl.toggleClass('bg-green-100 text-green-700', type === 'success').toggleClass('bg-red-100 text-red-700', type !== 'success');
                statusEl.find('i').attr('class', type === 'success' ? 'bx bxs-check-circle text-lg' : 'bx bxs-x-circle text-lg');
            }
            
            // --- MANAJEMEN TAMPILAN (VIEW) ---
            function showView(view) {
                $('#app-container').hide();
                $('#dashboard-view').hide();
                $(view).fadeIn();
            }

            // --- MANAJEMEN SESI & UI ---
            function saveSession(data) { localStorage.setItem('sessionToken', data.token); localStorage.setItem('userData', JSON.stringify(data.user)); updateUIForLoggedInUser(data.user); }
            function clearSession() { localStorage.removeItem('sessionToken'); localStorage.removeItem('userData'); updateUIForLoggedOutUser(); initialize(); }
            function getSession() { const token = localStorage.getItem('sessionToken'); const data = JSON.parse(localStorage.getItem('userData')); return token && data ? { token, user: data } : null; }
            
            function updateUIForLoggedInUser(user) {
                $('#userMenu').html(`<div class="flex items-center gap-3"><button id="showDashboardBtn" class="font-semibold text-sm text-gray-700 hover:text-amber-800">${user.nama_lengkap}</button><button id="logoutBtn" class="text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-md transition-colors">Logout</button></div>`);
                if (user.peran === 'admin' || user.peran === 'editor') { $('#addWordBtn').removeClass('hidden'); }
                $('#contributeBtn').text('Mulai Berkontribusi').off('click').on('click', () => openEntryModal(null));
            }

            function updateUIForLoggedOutUser() {
                $('#userMenu').html(`<button id="loginBtn" class="text-sm font-semibold text-gray-600 hover:text-amber-800">Login</button>`);
                $('#addWordBtn').addClass('hidden');
                $('#contributeBtn').text('Daftar & Mulai Berkontribusi').off('click').on('click', () => showModal('#registerModal'));
            }
            
            // --- LOGIKA DATA & RENDER ---
            async function fetchKamusData() { try { const response = await fetch(`${API_URL}?sheet=Kamus&v=${new Date().getTime()}`); if (!response.ok) throw new Error('Network error'); kamusData = await response.json(); return kamusData; } catch (err) { console.error("Gagal memuat data:", err); return []; } }
            function showLoader() { $('#content').html($('#loadingStateTemplate').html()); }
            
            function renderLatestWords(data) {
                const container = $('#latest-words'); container.html('');
                const shuffled = [...data].sort(() => 0.5 - Math.random());
                const randomWords = shuffled.slice(0, 4);

                if (randomWords.length === 0) { 
                    $('#random-words-section').hide();
                    return; 
                }
                
                randomWords.forEach(word => {
                    const item = $($('#latestWordCardSimpleTemplate').html());
                    item.find('.data-lema').text(word.lema);
                    item.on('click', () => { $('#searchInput').val(word.lema).focus(); $('#searchForm').trigger('submit'); });
                    container.append(item);
                });
            }

            function renderContributors() {
                if (!kamusData) return;
                const container = $('#contributors-list'); container.html('');
                const stats = kamusData.reduce((acc, entry) => {
                    const contributor = entry.kontributor;
                    if (contributor) {
                        if (!acc[contributor]) { acc[contributor] = { count: 0, name: contributor }; }
                        acc[contributor].count++;
                    }
                    return acc;
                }, {});
                const sorted = Object.values(stats).sort((a, b) => b.count - a.count);
                if (sorted.length === 0) { container.html('<p class="text-center text-gray-500">Belum ada kontribusi.</p>'); return; }
                sorted.forEach((c, index) => {
                    container.append(`<div class="flex items-center bg-gray-50/50 p-4 rounded-lg border border-gray-200"><div class="text-2xl font-bold text-amber-800/50 w-12 text-center">#${index + 1}</div><div class="ml-4"><p class="font-semibold text-lg text-gray-800">${c.name}</p><p class="text-sm text-gray-500">${c.count} kontribusi</p></div></div>`);
                });
            }

            function renderActivityHistory(user) {
                const container = $('#activity-history'); container.html('');
                if (!kamusData || !user) { container.html('<tr><td colspan="4" class="p-4 text-center text-gray-500">Gagal memuat riwayat.</td></tr>'); return; }
                
                const userContributions = kamusData.filter(e => e.kontributor === user.username);
                const sorted = userContributions.sort((a, b) => new Date(b.last_edited) - new Date(a.last_edited));

                if (sorted.length === 0) { container.html('<tr><td colspan="4" class="p-4 text-center text-gray-500">Anda belum memiliki riwayat aktivitas.</td></tr>'); return; }
                
                sorted.slice(0, 10).forEach(entry => {
                    const date = new Date(entry.last_edited).toLocaleDateString('id-ID', { day: 'numeric', month: 'short', year: 'numeric' });
                    const itemHTML = `<tr><td class="p-4 text-gray-500">${date}</td><td class="p-4 text-gray-700">Kontribusi</td><td class="p-4 font-semibold text-amber-800 hover:underline cursor-pointer history-lema" data-lema="${entry.lema}">${entry.lema}</td><td class="p-4"><span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Diterima</span></td></tr>`;
                    container.append(itemHTML);
                });
            }
            
            function renderDashboard() {
                const session = getSession(); if (!session) { showView('#app-container'); return; }
                const user = session.user;
                $('#dashboard-welcome-subtitle').text(`Selamat datang kembali, ${user.nama_lengkap}.`);

                if (kamusData && kamusData.length > 0) {
                    const userContributions = kamusData.filter(e => e.kontributor === user.username);
                    $('#stat-added').text(userContributions.length);
                    $('#stat-edited').text(0); 
                    $('#stat-examples').text(userContributions.reduce((sum, e) => { for (let i=1; i<=9; i++) { if(e[`contoh${i}Aceh`]) sum++; } return sum; }, 0));

                    const allStats = kamusData.reduce((acc, entry) => {
                        const contributor = entry.kontributor;
                        if (contributor) {
                            if (!acc[contributor]) { acc[contributor] = { count: 0, name: contributor }; }
                            acc[contributor].count++;
                        }
                        return acc;
                    }, {});
                    const sortedContributors = Object.values(allStats).sort((a, b) => b.count - a.count);
                    const userRankIndex = sortedContributors.findIndex(c => c.name === user.username);
                    $('#stat-rank').text(userRankIndex !== -1 ? `#${userRankIndex + 1}` : '#-');
                    
                    renderActivityHistory(user);
                }
                showView('#dashboard-view');
            }

            function renderHasilPencarian(results) { 
                const content = $('#content').html(''); if (!results || results.length === 0) { content.html( $('#notFoundStateTemplate').html() ); return; }
                const container = $('<div class="space-y-6"></div>');
                results.forEach((data, index) => {
                    const el = $($('#lemaDetailTemplate').html()); el.data('full-data', data);
                    const homonyms = results.filter(r => normalizeString(r.lema.toLowerCase()) === normalizeString(data.lema.toLowerCase()));
                    const homonymIndex = homonyms.findIndex(h => h === data);
                    let lemaHTML = data.lema;
                    if (homonyms.length > 1) {
                        lemaHTML = `<sup class="text-amber-800 font-bold text-xl mr-1">${homonymIndex + 1}</sup>${data.lema}`;
                    }
                    el.find('.data-lema').html(lemaHTML);
                    data.jawi ? el.find('.data-jawi').text(data.jawi) : el.find('.data-jawi').hide();
                    data.ipa ? el.find('.data-ipa').text(data.ipa) : el.find('.data-ipa').hide();
                    data.kelas ? el.find('.data-kelas').text(data.kelas) : el.find('.data-kelas').hide();
                    const defEl = $($('#definisiEntryTemplate').html());
                    defEl.find('.data-makna').text(data.arti || 'Tidak ada definisi.');
                    if (data.sumber) { const ref = referensiData.find(r => r.kode === data.sumber); if (ref) { defEl.find('.data-sumber-container').append($(`<span class="ref-link text-amber-800 font-mono cursor-pointer hover:underline"> [${data.sumber}] <span class="tooltip"><b>${ref.penulis}</b><br><em>${ref.judul}</em><br>${ref.detail}</span></span>`)); } }
                    const contohContainer = defEl.find('.data-contoh-container'); contohContainer.html(''); let examplesFound = 0;
                    for (let i = 1; i <= 9; i++) { const aceh = data[`contoh${i}Aceh`], ind = data[`contoh${i}Ind`]; if (aceh && ind) { examplesFound++; const exHTML = `<div class="group border-l-4 border-amber-100 bg-gray-50/50 p-4 rounded-r-lg flex justify-between items-start gap-4"><div class="flex"><i class='bx bxs-quote-alt-left text-gray-300 text-lg mr-3 mt-1 flex-shrink-0'></i><div><p class="italic text-gray-800">${aceh}</p><p class="text-gray-600 mt-1 text-sm">${ind}</p></div></div><button title="Salin contoh" class="copy-example-btn relative opacity-0 group-hover:opacity-100" data-copy-text="${aceh.replace(/"/g, '&quot;')}"><i class='bx bx-copy text-lg text-gray-500 hover:text-amber-800'></i><span class="copy-feedback absolute -top-8 -right-1 text-xs bg-gray-800 text-white px-2 py-1 rounded hidden">Tersalin!</span></button></div>`; contohContainer.append(exHTML); } }
                    if (examplesFound === 0) { contohContainer.hide(); }
                    el.find('.definisi-container').append(defEl);
                    data.catatan ? el.find('.data-catatan').text(data.catatan) : el.find('.data-catatan-container').hide();
                    container.append(el);
                });
                content.append(container);
                if (getSession() && (getSession().user.peran === 'admin' || getSession().user.peran === 'editor')) { content.find('.edit-btn').removeClass('hidden'); }
             }
            function openEntryModal(data = null) {
                $('#entryForm')[0].reset();
                $('#contohContainer').empty();
                $('#formStatus').addClass('hidden');
                $('#formSumberCustom').addClass('hidden');

                const sumberSelect = $('#formSumberSelect');
                sumberSelect.html('<option value="">-- Pilih Sumber --</option>');
                referensiData.forEach(ref => {
                    sumberSelect.append(`<option value="${ref.kode}">${ref.kode} (${ref.penulis})</option>`);
                });
                sumberSelect.append('<option value="lainnya">Lainnya...</option>');

                if (data) {
                    $('#modalTitle').text('Edit Kata');
                    $('#formAction').val('edit');
                    $('#formRowIndex').val(data.rowIndex);
                    Object.keys(data).forEach(key => {
                        if (key !== 'sumber') {
                            $(`#form${key.charAt(0).toUpperCase() + key.slice(1)}`).val(data[key]);
                        }
                    });

                    for (let i = 1; i <= 9; i++) {
                        if (data[`contoh${i}Aceh`]) addContohField(data[`contoh${i}Aceh`], data[`contoh${i}Ind`]);
                    }

                    if (data.sumber) {
                        const isPredefined = referensiData.some(ref => ref.kode === data.sumber);
                        if (isPredefined) {
                            sumberSelect.val(data.sumber);
                        } else {
                            sumberSelect.val('lainnya');
                            $('#formSumberCustom').removeClass('hidden').val(data.sumber);
                        }
                    } else {
                        sumberSelect.val('');
                    }

                } else {
                    $('#modalTitle').text('Tambah Kata Baru');
                    $('#formAction').val('add');
                    addContohField();
                }
                showModal('#entryModal');
            }
            function addContohField(aceh = '', ind = '') { const el = $($('#contohFormTemplate').html()); el.find('input[name="contohAceh"]').val(aceh); el.find('input[name="contohInd"]').val(ind); $('#contohContainer').append(el); }
            async function handleFormSubmit(e) {
                e.preventDefault();
                const session = getSession();
                if (!session) return;
                setSubmitButtonState(this, true);

                const sumberSelectVal = $('#formSumberSelect').val();
                if (sumberSelectVal === 'lainnya') {
                    $('#formSumber').val($('#formSumberCustom').val());
                } else {
                    $('#formSumber').val(sumberSelectVal);
                }

                let formData = { token: session.token };
                $(this).serializeArray().forEach(item => {
                    if (item.name !== 'sumber_select' && item.name !== 'sumber_custom') {
                        formData[item.name] = item.value;
                    }
                });
                
                for (let i = 1; i <= 9; i++) { formData[`contoh${i}Aceh`] = ""; formData[`contoh${i}Ind`] = ""; }
                $('.contoh-entry').each((i, el) => { formData[`contoh${i + 1}Aceh`] = $(el).find('input[name="contohAceh"]').val(); formData[`contoh${i + 1}Ind`] = $(el).find('input[name="contohInd"]').val(); });

                try {
                    await fetch(API_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(formData) });
                    showFormStatus('#form', 'Berhasil! Memuat ulang data...', 'success');
                    setTimeout(() => { closeModal('#entryModal'); initialize(); }, 1500);
                } catch (err) { showFormStatus('#form', 'Gagal menyimpan data.'); } finally { setSubmitButtonState(this, false); }
            }

            // --- INISIALISASI & EVENT LISTENERS ---
            async function initialize() {
                const session = getSession(); session ? updateUIForLoggedInUser(session.user) : updateUIForLoggedOutUser();
                showView('#app-container');
                const data = await fetchKamusData();
                if (data && data.length > 0) {
                    $('#entry-count').html(`Saat ini memiliki <strong class="text-amber-800">${data.length.toLocaleString('id-ID')}</strong> entri kata.`);
                    $('#random-words-section').show();
                    renderLatestWords(data);
                    $('#content').html(''); 
                } else {
                     $('#entry-count').text('Sebuah kamus hidup untuk melestarikan warisan linguistik Aceh.');
                     $('#random-words-section').hide();
                }
            }
            initialize();
            
            $('#searchForm').on('submit', function(e) { e.preventDefault(); if ($('#searchInput').val().trim() === '') return; $('#initial-content').slideUp(); showLoader(); $('#content').show(); setTimeout(() => { const term = normalizeString($('#searchInput').val().toLowerCase().trim()); const results = kamusData.filter(item => normalizeString(item.lema.toLowerCase()).includes(term)); renderHasilPencarian(results); }, 500); });
            
            // --- Event Listeners ---
            $(document).on('click', '#showDashboardBtn', renderDashboard);
            $(document).on('click', '#back-to-kamus', () => { showView('#app-container'); $('#initial-content').show(); $('#content').empty().hide(); });
            $(document).on('click', '#dashboard-add-entry', () => openEntryModal(null));
            $(document).on('click', '#dashboard-show-guidelines', () => showModal('#guidelinesModal'));
            $(document).on('click', '.closeModalBtn', function() { closeModal('#' + $(this).closest('.modal-container').attr('id')); });
            $(document).on('click', '#userMenu #loginBtn', () => showModal('#loginModal'));
            $(document).on('click', '#userMenu #logoutBtn', clearSession);
            $(document).on('click', '#activity-history .history-lema', function() {
                const lema = $(this).data('lema');
                showView('#app-container');
                $('#searchInput').val(lema);
                $('#searchForm').trigger('submit');
            });
            $('#showRegisterModal').on('click', (e) => { e.preventDefault(); closeModal('#loginModal'); showModal('#registerModal'); });
            $('#showLoginModal').on('click', (e) => { e.preventDefault(); closeModal('#registerModal'); showModal('#loginModal'); });
            $('#showGuidelinesModal').on('click', (e) => { e.preventDefault(); showModal('#guidelinesModal'); });
            $('#showAboutModal').on('click', (e) => { e.preventDefault(); showModal('#aboutModal'); });
            $('#showContributorsModal').on('click', (e) => { e.preventDefault(); renderContributors(); showModal('#contributorsModal'); });
            $('.toggle-password').on('click', function() { const icon = $(this); const input = icon.prev('input'); input.attr('type', input.attr('type') === 'password' ? 'text' : 'password'); icon.toggleClass('bx-hide bx-show'); });
            $('#addContohBtn').on('click', () => addContohField());
            $('#contohContainer').on('click', '.remove-contoh-btn', function() { $(this).closest('.contoh-entry').remove(); });
            $('#content').on('click', '.edit-btn', function() { openEntryModal($(this).closest('.card-heritage').data('full-data')); });
            $('#formSumberSelect').on('change', function() {
                if ($(this).val() === 'lainnya') {
                    $('#formSumberCustom').removeClass('hidden');
                } else {
                    $('#formSumberCustom').addClass('hidden');
                }
            });

            // --- Form Submissions ---
            $('#entryForm').on('submit', handleFormSubmit);
            $('#loginForm').on('submit', async function(e) { e.preventDefault(); setSubmitButtonState(this, true); try { const res = await fetch(API_URL, { method: 'POST', body: JSON.stringify({ action: 'login', username: $('#username').val(), password: $('#password').val() }) }); const result = await res.json(); if (result.success && result.data) { saveSession(result.data); showFormStatus('#login', 'Login berhasil!', 'success'); setTimeout(() => closeModal('#loginModal'), 1000); } else { showFormStatus('#login', result.message || 'Username/password salah.'); } } catch (err) { showFormStatus('#login', 'Terjadi kesalahan.'); } finally { setSubmitButtonState(this, false); } });
            $('#registerForm').on('submit', async function(e) { e.preventDefault(); setSubmitButtonState(this, true); try { await fetch(API_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({ action: 'register', nama_lengkap: $('#registerNamaLengkap').val(), username: $('#registerUsername').val(), password: $('#registerPassword').val() }) }); showFormStatus('#register', 'Permintaan terkirim! Silakan login.', 'success'); setTimeout(() => { closeModal('#registerModal'); $('#loginForm')[0].reset(); $('#registerForm')[0].reset(); showModal('#loginModal'); }, 2000); } catch (err) { showFormStatus('#register', 'Terjadi kesalahan jaringan.'); } finally { setSubmitButtonState(this, false); } });
            
            // --- Card Actions ---
            $('#content').on('click', '.print-btn', function() {
                const card = $(this).closest('.card-heritage');
                const data = card.data('full-data');
                if (!data) return;

                const printButton = $(this);
                const originalText = printButton.html();
                printButton.html('<i class="bx bx-loader-alt animate-spin mr-2"></i>Mencetak...');
                printButton.prop('disabled', true);

                const lema = data.lema || 'entri';
                let contohHTML = '';
                for (let i = 1; i <= 9; i++) {
                    const aceh = data[`contoh${i}Aceh`];
                    const ind = data[`contoh${i}Ind`];
                    if (aceh && ind) {
                        contohHTML += `
                            <div style="margin-top: 10px; padding-left: 15px; border-left: 2px solid #eee;">
                                <p style="margin: 0; font-style: italic;">${aceh}</p>
                                <p style="margin: 0; color: #555;">${ind}</p>
                            </div>
                        `;
                    }
                }
                 if (contohHTML) {
                    contohHTML = `
                        <h2 style="font-family: 'Playfair Display', serif; font-size: 16pt; margin-top: 30px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">
                            Contoh Penggunaan
                        </h2>
                        <div style="font-size: 11pt; line-height: 1.5;">${contohHTML}</div>
                    `;
                }

                const catatanHTML = data.catatan ? `
                    <h2 style="font-family: 'Playfair Display', serif; font-size: 16pt; margin-top: 30px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">
                        Catatan
                    </h2>
                    <p style="font-size: 11pt; line-height: 1.5; background-color: #f9f9f9; padding: 10px; border-radius: 4px;">${data.catatan}</p>
                ` : '';

                let sumberText = 'Tidak diketahui';
                if (data.sumber) {
                    const ref = referensiData.find(r => r.kode === data.sumber);
                    sumberText = ref ? `${ref.penulis}, <em>${ref.judul}</em> (${ref.detail})` : data.sumber;
                }

                const printContentHTML = `
                    <div style="font-family: Georgia, 'Times New Roman', Times, serif; padding: 2cm; color: #1a1a1a;">
                        <div style="text-align: right; font-size: 10pt; color: #888;">Kamus Basa Acèh</div>
                        <h1 style="font-family: 'Playfair Display', serif; font-size: 26pt; border-bottom: 2px solid #333; padding-bottom: 8px; margin-bottom: 8px; font-weight: 700;">${data.lema}</h1>
                        <div style="font-size: 14pt; margin-bottom: 20px; color: #555; display: flex; justify-content: space-between; align-items: baseline;">
                            <span style="font-family: 'Source Code Pro', monospace;">${data.ipa ? `/${data.ipa}/` : ''}</span>
                            <span style="font-family: 'serif'; font-size: 18pt;">${data.jawi || ''}</span>
                        </div>
                        <p style="font-style: italic; color: #666; margin-top: -10px; margin-bottom: 24px; font-size: 11pt;">${data.kelas || ''}</p>
                        <div style="font-size: 12pt; line-height: 1.6; text-align: justify;"><p>${data.arti || 'Tidak ada definisi.'}</p></div>
                        ${contohHTML}
                        ${catatanHTML}
                        <div style="margin-top: 50px; border-top: 1px solid #eee; padding-top: 15px; font-size: 9pt; color: #777; text-align: center;">
                            <div><strong>Sumber:</strong> ${sumberText}</div>
                            <div style="margin-top: 5px;">Dicetak pada: ${new Date().toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })} | Kamus Basa Acèh Digital</div>
                        </div>
                    </div>`;

                const printElement = document.createElement('div');
                printElement.style.position = 'absolute';
                printElement.style.left = '-9999px';
                printElement.style.width = '210mm';
                printElement.innerHTML = printContentHTML;
                document.body.appendChild(printElement);

                window.html2canvas(printElement, { scale: 2, useCORS: true }).then(canvas => {
                    const imgData = canvas.toDataURL('image/jpeg', 0.98);
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeight = pdf.internal.pageSize.getHeight();
                    const canvasWidth = canvas.width;
                    const canvasHeight = canvas.height;
                    const ratio = canvasHeight / canvasWidth;
                    const imgHeight = pdfWidth * ratio;
                    let heightLeft = imgHeight;
                    let position = 0;

                    pdf.addImage(imgData, 'JPEG', 0, position, pdfWidth, imgHeight);
                    heightLeft -= pdfHeight;

                    while (heightLeft > 0) {
                        position = heightLeft - imgHeight;
                        pdf.addPage();
                        pdf.addImage(imgData, 'JPEG', 0, position, pdfWidth, imgHeight);
                        heightLeft -= pdfHeight;
                    }
                    
                    pdf.save(`kamus-basa-aceh-${normalizeString(lema.toLowerCase())}.pdf`);
                    document.body.removeChild(printElement);
                    printButton.html(originalText);
                    printButton.prop('disabled', false);
                }).catch(err => {
                    console.error("Gagal membuat canvas:", err);
                    document.body.removeChild(printElement);
                    printButton.html(originalText);
                    printButton.prop('disabled', false);
                });
            });
            $('#content').on('click', '.copy-example-btn', function() { const btn = $(this); const text = btn.data('copy-text'); const feedback = btn.find('.copy-feedback'); navigator.clipboard.writeText(text).then(() => { feedback.removeClass('hidden'); setTimeout(() => feedback.addClass('hidden'), 1500); }); });
            $('#content').on('click', '.copy-entry-btn', function() { const btn = $(this); const data = btn.closest('.card-heritage').data('full-data'); const feedback = btn.find('.copy-feedback'); if (data && data.lema && data.arti) { navigator.clipboard.writeText(`${data.lema}: ${data.arti}`).then(() => { feedback.removeClass('hidden'); setTimeout(() => feedback.addClass('hidden'), 1500); }); } });
        });</script>
